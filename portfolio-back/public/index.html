<!-- File: public/index.html (Updated Contact Form Section) -->
<!-- Replace your existing contact form with this updated version -->

<section id="contact" class="section">
    <div class="container">
        <h2>Get In Touch</h2>
        <div class="contact-content animate-on-scroll">
            <form class="contact-form" id="contactForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn" id="submitBtn">
                    <span id="btnText">Send Message</span>
                    <span id="btnSpinner" style="display: none;">Sending...</span>
                </button>
            </form>
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">üìß</div>
                    <div>
                        <h3>Email</h3>
                        <p>ilyas.lambaitil@example.com</p>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">üì±</div>
                    <div>
                        <h3>Phone</h3>
                        <p>+212 6XX XXX XXX</p>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">üìç</div>
                    <div>
                        <h3>Location</h3>
                        <p>Morocco</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Updated JavaScript for form submission
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const form = e.target;
    const formData = new FormData(form);
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const btnSpinner = document.getElementById('btnSpinner');
    
    // Show loading state
    submitBtn.disabled = true;
    btnText.style.display = 'none';
    btnSpinner.style.display = 'inline';
    
    try {
        const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                name: formData.get('name'),
                email: formData.get('email'),
                subject: formData.get('subject'),
                message: formData.get('message')
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            // Success message
            alert('‚úÖ Thank you! Your message has been sent successfully. I will get back to you soon!');
            form.reset();
        } else {
            // Error message
            alert('‚ùå Error: ' + result.message);
        }
        
    } catch (error) {
        console.error('Error:', error);
        alert('‚ùå Network error. Please check your connection and try again.');
    } finally {
        // Reset button state
        submitBtn.disabled = false;
        btnText.style.display = 'inline';
        btnSpinner.style.display = 'none';
    }
});
</script>